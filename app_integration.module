<?php

// module file -- pull in external sources, use a node hook and a block hook to integrate the output into the site

/**
* Create the Drupal blocks. We're creating two Drupal "blocks" that will appear in the site's admin UI in the Blocks list.
*/

/**
* Implementation of hook_block().
 */

function app_integration_block($op = 'list', $delta = 0) {
  $block = array();
  switch ($op) {

    case 'list':
      $block[0]['info'] = t('App Integration Widget 1');
      $block[1]['info'] = t('App Integration Widget 2');
      return $block;

    case 'view':
      switch ($delta == 0) {
        case 0:
          // this is the Widget 1 block.
          $block['subject'] = t('');
          $block['content'] = $widget1;
          break;
        case 1:
          // this is the Widget 2 block.
          $block['subject'] = t('');
          $block['content'] = $widget2;
          break;
      }
      return $block;
  }
} // end function hook_block

 /**
 * Implements hook_block_info().
*/
function app_integration_block_info() {
   $blocks = array();
   $blocks['app_integration_widget_1'] = array(
     'info' => t("A sample block with a data visualization generated by the App Integration module"),
   );
   $blocks['app_integration_widget_2'] = array(
     'info' => t("A sample block with content generated by the App Integration module"),
   );
}

/**
* Implements hook_block_view().
*/

function app_integration_block_view($delta = '') {
  $block = array();
  switch ($delta) {
    case 'app_integration_widget_1':
      $the_block = $widget1;
      $block['title'] = t('App Integration Widget 1');
      $block['content'] = $the_block;
      break;
    case 'app_integration_widget_2':
      $the_block = $widget2;
      $block['title'] = t('App Integration Widget 2');
      $block['content'] = $the_block;
      break;
    }
  return $block;
}
